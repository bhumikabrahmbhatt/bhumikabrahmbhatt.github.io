(function (d3$1) {
  'use strict';

  const colors = [
    ['#E6A6B0'],
    ['#F4CAAF'],
    ['#719D93'],
    ['#A6D096'],
    ['#9D4452'],
    ['#A76C48'],
    ['#2E6B5E'],
    ['#538E3D'],
    ['#BE6B78'],
    ['#C99372'],
    ['#498175'],
    ['#75AC61'],
    ['#812836'],
    ['#884E2A'],
    ['#1B584A'],
    ['#3A7424'],
    ['#5B0D1A'],
    ['#602E0E'],
    ['#093E32'],
    ['#1F520C'],  
  ];

  const samples = {
     "agents_log": {
          "A":[],
          "B":[
             {
                "date_time":"2022-05-05 14:23:45:579726",
                "metric_str":"content_trust.direct_experience",
                "other_agent":"A",
                "resource_id":"http://example.com/Redecentralization_of_the_Web",
                "trust_value":"0.0"
             },
             {
                "date_time":"2022-05-05 14:23:45:588587",
                "metric_str":"content_trust.recommendation",
                "other_agent":"A",
                "resource_id":"http://example.com/Redecentralization_of_the_Web",
                "trust_value":"None"
             },
             {
                "date_time":"2022-05-05 14:23:45:599123",
                "metric_str":"content_trust.popularity",
                "other_agent":"A",
                "resource_id":"http://example.com/Redecentralization_of_the_Web",
                "trust_value":"0.5"
             },
             {
                "date_time":"2022-05-05 14:23:45:618727",
                "metric_str":"content_trust.direct_experience",
                "other_agent":"A",
                "resource_id":"http://example.com/Web_of_Things",
                "trust_value":"None"
             },
             {
                "date_time":"2022-05-05 14:23:45:626127",
                "metric_str":"content_trust.recommendation",
                "other_agent":"A",
                "resource_id":"http://example.com/Web_of_Things",
                "trust_value":"None"
             },
             {
                "date_time":"2022-05-05 14:23:45:635072",
                "metric_str":"content_trust.popularity",
                "other_agent":"A",
                "resource_id":"http://example.com/Web_of_Things",
                "trust_value":"0.5"
             }
          ],
          "C":[],
          "D":[]
       },
      "trustLogDict": [
          {
             "date_time":"2022-05-05 14:23:45:601913",
             "agent":"B",
             "other_agent":"A",
             "resource_id":"http://example.com/Redecentralization_of_the_Web",
             "trust_value":"0.25"
          },
          {
             "date_time":"2022-05-05 14:23:45:639594",
             "agent":"B",
             "other_agent":"A",
             "resource_id":"http://example.com/Web_of_Things",
             "trust_value":"0.5"
          }
      ]
     };

  const nodes = [];
  const links = [];

  let i = 0;

  const addMainNode = (node) => {
    node.size = 20;
    node.color = colors[i++][0];
    nodes.push(node);
  };

  const addChildNode = (
    parentNode,
    childNode,
    selectagent,
    size = 15,
    distance = 20
  ) => {
    childNode.size = size;
    childNode.color = parentNode.color;
    childNode.selectedagent = selectagent;
    nodes.push(childNode);
    links.push({
      source: parentNode,
      target: childNode,
      distance,
      color: parentNode.color,
    });
  };

  const assembleChildNode = (parentNode, id, addnode, reso, selectagent) => { 
    const childNode = { id };
    addChildNode(parentNode, childNode, selectagent);

    const agents = samples.agents_log[addnode];
    for (let i = 0; i < samples.agents_log[addnode].length; i++) {
      if(agents[i].other_agent === parentNode.id && agents[i].resource_id === reso){
        addChildNode(childNode, { id: '' }, agents[i], 5 , 30);
      }
      continue;
    }
  };

  const connectMainNodes = (source, target) => {
    links.push({
      source,
      target,
      distance: 90,
      color: source.color
    });
  };

  const allagents = Object.keys(samples.agents_log);

  let castp = [];
  allagents.forEach((element, index) => {
    castp[index] = { id: element };
    addMainNode(castp[index]);
  });

  for (let i = 0; i < samples.trustLogDict.length; i++) {
    const first = castp.findIndex(element => element.id === samples.trustLogDict[i].agent);
    const second = castp.findIndex(element => element.id === samples.trustLogDict[i].other_agent);

    connectMainNodes(castp[first], castp[second]);

    let str = samples.trustLogDict[i].resource_id;
    let pp = samples.trustLogDict[i];
    assembleChildNode(castp[second], str.charAt(0),castp[first].id, str, pp);
  }

  const svg = d3.select('#container');
  const width = +svg.attr('width');
  const height = +svg.attr('height');
  const centerX = width / 2;
  const centerY = height / 2;

  var rangeSlider = document.getElementById('myRange');
  rangeSlider.addEventListener('change', function(event,a,b) {
    simulation.force("link").links(links).distance(event.target.value);
    simulation.alpha(1);
    simulation.restart();
  });

  const simulation = d3.forceSimulation(nodes)
    .force('charge', d3.forceManyBody().strength(-20))
    .force(
      'link',
      d3.forceLink(links).distance(rangeSlider.value) // (link) => link.distance
    )
    .force('center', d3.forceCenter(centerX, centerY));

  const dragInteraction = d3.drag().on('drag', (event, node) => {
    node.fx = event.x;
    node.fy = event.y;
    simulation.alpha(1);
    simulation.restart();
  });

  const lines = svg
    .selectAll('line')
    .data(links)
    .enter()
    .append('line')
    .attr('stroke', (link) => link.color || 'black');


  const circles = svg
    .append("g")
    .attr("class", "circles")
    .selectAll('circle')
    .data(nodes)
    .enter()
    .append('circle')
    .attr('fill', (node) => node.color || 'gray')
    .attr('r', (node) => node.size)
    .call(dragInteraction);

  d3.select("#allagents").selectAll("p").data(allagents).enter()
  .append("text")
  .text(function(ag){
      return ag+" ";
  });

  circles.on("click", function(d, agent) {
    if(agent.selectedagent === undefined){
      d3.select("#selectedagent").text(agent.id);
    }
    else {
      if(agent.selectedagent.metric_str === undefined){
        d3.select("#trustlog").style('display', 'block');
        d3.select("#agentlog").style('display', 'none');

        d3.select("#agent").text(agent.selectedagent.agent);
        d3.select("#datetime").text(agent.selectedagent.date_time);
        d3.select("#otheragent").text(agent.selectedagent.other_agent);
        d3.select("#resourceid").text(agent.selectedagent.resource_id);
        d3.select("#trustvalue").text(agent.selectedagent.trust_value);
      }
      else {
        d3.select("#agentlog").style('display', 'block');
        d3.select("#trustlog").style('display', 'none');

        d3.select("#adatetime").text(agent.selectedagent.date_time);
        d3.select("#metricstring").text(agent.selectedagent.metric_str);
        d3.select("#aotheragent").text(agent.selectedagent.other_agent);
        d3.select("#aresourceid").text(agent.selectedagent.resource_id);
        d3.select("#atrustvalue").text(agent.selectedagent.trust_value);
      }  
    }
  });

  const text = svg
    .selectAll('text')
    .data(nodes)
    .enter()
    .append('text')
    .attr('text-anchor', 'middle')
    .attr('alignment-baseline', 'middle')
    .style('pointer-events', 'none')
    .text((node) => node.id);

  simulation.on('tick', () => {
    circles.attr('cx', (node) => node.x).attr('cy', (node) => node.y);
    text.attr('x', (node) => node.x).attr('y', (node) => node.y);

    lines
      .attr('x1', (link) => link.source.x)
      .attr('y1', (link) => link.source.y)
      .attr('x2', (link) => link.target.x)
      .attr('y2', (link) => link.target.y);
  });


  var zoom_handler = d3.zoom()
    .on("zoom", zoom_actions);

  function zoom_actions(){
     circles.attr("transform", d3.zoomTransform(this));
     lines.attr("transform", d3.zoomTransform(this));
     text.attr("transform", d3.zoomTransform(this));
  }

  zoom_handler(svg);    

  // zoomIn
  d3.select("#zoomIn").on("click", function() {
    d3.select('svg')
      .transition()
      .call(zoom_handler.scaleBy, 2);
  });

  // zoomOut
  d3.select("#zoomOut").on("click", function() {
    d3.select('svg')
      .transition()
      .call(zoom_handler.scaleBy, 0.5);
  });

  // resetZoom
  d3.select("#resetZoom").on("click", function() {
    d3.select('svg')
      .transition()
      .call(zoom_handler.scaleTo, 1);
  });

  // center
  d3.select("#center").on("click", function() {
    d3.select('svg')
      .transition()
      .call(zoom_handler.translateTo, 0.5 * width, 0.5 * height);
  });

  // panLeft
  d3.select("#panLeft").on("click", function() {
    d3.select('svg')
      .transition()
      .call(zoom_handler.translateBy, -50, 0);
  });

  // panRight
  d3.select("#panRight").on("click", function() {
    d3.select('svg')
      .transition()
      .call(zoom_handler.translateBy, 50, 0);
  });

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImNvbG9ycy5qcyIsInNhbXBsZXMuanMiLCJkYXRhLmpzIiwiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbG9ycyA9IFtcbiAgWycjRTZBNkIwJ10sXG4gIFsnI0Y0Q0FBRiddLFxuICBbJyM3MTlEOTMnXSxcbiAgWycjQTZEMDk2J10sXG4gIFsnIzlENDQ1MiddLFxuICBbJyNBNzZDNDgnXSxcbiAgWycjMkU2QjVFJ10sXG4gIFsnIzUzOEUzRCddLFxuICBbJyNCRTZCNzgnXSxcbiAgWycjQzk5MzcyJ10sXG4gIFsnIzQ5ODE3NSddLFxuICBbJyM3NUFDNjEnXSxcbiAgWycjODEyODM2J10sXG4gIFsnIzg4NEUyQSddLFxuICBbJyMxQjU4NEEnXSxcbiAgWycjM0E3NDI0J10sXG4gIFsnIzVCMEQxQSddLFxuICBbJyM2MDJFMEUnXSxcbiAgWycjMDkzRTMyJ10sXG4gIFsnIzFGNTIwQyddLCAgXG5dOyIsImV4cG9ydCBjb25zdCBzYW1wbGVzID0ge1xuICAgXCJhZ2VudHNfbG9nXCI6IHtcbiAgICAgICAgXCJBXCI6W10sXG4gICAgICAgIFwiQlwiOltcbiAgICAgICAgICAge1xuICAgICAgICAgICAgICBcImRhdGVfdGltZVwiOlwiMjAyMi0wNS0wNSAxNDoyMzo0NTo1Nzk3MjZcIixcbiAgICAgICAgICAgICAgXCJtZXRyaWNfc3RyXCI6XCJjb250ZW50X3RydXN0LmRpcmVjdF9leHBlcmllbmNlXCIsXG4gICAgICAgICAgICAgIFwib3RoZXJfYWdlbnRcIjpcIkFcIixcbiAgICAgICAgICAgICAgXCJyZXNvdXJjZV9pZFwiOlwiaHR0cDovL2V4YW1wbGUuY29tL1JlZGVjZW50cmFsaXphdGlvbl9vZl90aGVfV2ViXCIsXG4gICAgICAgICAgICAgIFwidHJ1c3RfdmFsdWVcIjpcIjAuMFwiXG4gICAgICAgICAgIH0sXG4gICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJkYXRlX3RpbWVcIjpcIjIwMjItMDUtMDUgMTQ6MjM6NDU6NTg4NTg3XCIsXG4gICAgICAgICAgICAgIFwibWV0cmljX3N0clwiOlwiY29udGVudF90cnVzdC5yZWNvbW1lbmRhdGlvblwiLFxuICAgICAgICAgICAgICBcIm90aGVyX2FnZW50XCI6XCJBXCIsXG4gICAgICAgICAgICAgIFwicmVzb3VyY2VfaWRcIjpcImh0dHA6Ly9leGFtcGxlLmNvbS9SZWRlY2VudHJhbGl6YXRpb25fb2ZfdGhlX1dlYlwiLFxuICAgICAgICAgICAgICBcInRydXN0X3ZhbHVlXCI6XCJOb25lXCJcbiAgICAgICAgICAgfSxcbiAgICAgICAgICAge1xuICAgICAgICAgICAgICBcImRhdGVfdGltZVwiOlwiMjAyMi0wNS0wNSAxNDoyMzo0NTo1OTkxMjNcIixcbiAgICAgICAgICAgICAgXCJtZXRyaWNfc3RyXCI6XCJjb250ZW50X3RydXN0LnBvcHVsYXJpdHlcIixcbiAgICAgICAgICAgICAgXCJvdGhlcl9hZ2VudFwiOlwiQVwiLFxuICAgICAgICAgICAgICBcInJlc291cmNlX2lkXCI6XCJodHRwOi8vZXhhbXBsZS5jb20vUmVkZWNlbnRyYWxpemF0aW9uX29mX3RoZV9XZWJcIixcbiAgICAgICAgICAgICAgXCJ0cnVzdF92YWx1ZVwiOlwiMC41XCJcbiAgICAgICAgICAgfSxcbiAgICAgICAgICAge1xuICAgICAgICAgICAgICBcImRhdGVfdGltZVwiOlwiMjAyMi0wNS0wNSAxNDoyMzo0NTo2MTg3MjdcIixcbiAgICAgICAgICAgICAgXCJtZXRyaWNfc3RyXCI6XCJjb250ZW50X3RydXN0LmRpcmVjdF9leHBlcmllbmNlXCIsXG4gICAgICAgICAgICAgIFwib3RoZXJfYWdlbnRcIjpcIkFcIixcbiAgICAgICAgICAgICAgXCJyZXNvdXJjZV9pZFwiOlwiaHR0cDovL2V4YW1wbGUuY29tL1dlYl9vZl9UaGluZ3NcIixcbiAgICAgICAgICAgICAgXCJ0cnVzdF92YWx1ZVwiOlwiTm9uZVwiXG4gICAgICAgICAgIH0sXG4gICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJkYXRlX3RpbWVcIjpcIjIwMjItMDUtMDUgMTQ6MjM6NDU6NjI2MTI3XCIsXG4gICAgICAgICAgICAgIFwibWV0cmljX3N0clwiOlwiY29udGVudF90cnVzdC5yZWNvbW1lbmRhdGlvblwiLFxuICAgICAgICAgICAgICBcIm90aGVyX2FnZW50XCI6XCJBXCIsXG4gICAgICAgICAgICAgIFwicmVzb3VyY2VfaWRcIjpcImh0dHA6Ly9leGFtcGxlLmNvbS9XZWJfb2ZfVGhpbmdzXCIsXG4gICAgICAgICAgICAgIFwidHJ1c3RfdmFsdWVcIjpcIk5vbmVcIlxuICAgICAgICAgICB9LFxuICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiZGF0ZV90aW1lXCI6XCIyMDIyLTA1LTA1IDE0OjIzOjQ1OjYzNTA3MlwiLFxuICAgICAgICAgICAgICBcIm1ldHJpY19zdHJcIjpcImNvbnRlbnRfdHJ1c3QucG9wdWxhcml0eVwiLFxuICAgICAgICAgICAgICBcIm90aGVyX2FnZW50XCI6XCJBXCIsXG4gICAgICAgICAgICAgIFwicmVzb3VyY2VfaWRcIjpcImh0dHA6Ly9leGFtcGxlLmNvbS9XZWJfb2ZfVGhpbmdzXCIsXG4gICAgICAgICAgICAgIFwidHJ1c3RfdmFsdWVcIjpcIjAuNVwiXG4gICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJDXCI6W10sXG4gICAgICAgIFwiRFwiOltdXG4gICAgIH0sXG4gICAgXCJ0cnVzdExvZ0RpY3RcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgIFwiZGF0ZV90aW1lXCI6XCIyMDIyLTA1LTA1IDE0OjIzOjQ1OjYwMTkxM1wiLFxuICAgICAgICAgICBcImFnZW50XCI6XCJCXCIsXG4gICAgICAgICAgIFwib3RoZXJfYWdlbnRcIjpcIkFcIixcbiAgICAgICAgICAgXCJyZXNvdXJjZV9pZFwiOlwiaHR0cDovL2V4YW1wbGUuY29tL1JlZGVjZW50cmFsaXphdGlvbl9vZl90aGVfV2ViXCIsXG4gICAgICAgICAgIFwidHJ1c3RfdmFsdWVcIjpcIjAuMjVcIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgIFwiZGF0ZV90aW1lXCI6XCIyMDIyLTA1LTA1IDE0OjIzOjQ1OjYzOTU5NFwiLFxuICAgICAgICAgICBcImFnZW50XCI6XCJCXCIsXG4gICAgICAgICAgIFwib3RoZXJfYWdlbnRcIjpcIkFcIixcbiAgICAgICAgICAgXCJyZXNvdXJjZV9pZFwiOlwiaHR0cDovL2V4YW1wbGUuY29tL1dlYl9vZl9UaGluZ3NcIixcbiAgICAgICAgICAgXCJ0cnVzdF92YWx1ZVwiOlwiMC41XCJcbiAgICAgICAgfVxuICAgIF1cbiAgIH07XG4iLCJpbXBvcnQgeyBjb2xvcnMgfSBmcm9tICcuL2NvbG9ycyc7XG5pbXBvcnQgeyBzYW1wbGVzIH0gZnJvbSAnLi9zYW1wbGVzJztcblxuZXhwb3J0IGNvbnN0IG5vZGVzID0gW107XG5leHBvcnQgY29uc3QgbGlua3MgPSBbXTtcblxuY29uc3QgTUFJTl9OT0RFX1NJWkUgPSA0MDtcbmNvbnN0IENISUxEX05PREVfU0laRSA9IDE1O1xuY29uc3QgTEVBRl9OT0RFX1NJWkUgPSA1O1xuY29uc3QgREVGQVVMVF9ESVNUQU5DRSA9IDIwO1xuY29uc3QgTUFJTl9OT0RFX0RJU1RBTkNFID0gOTA7XG5jb25zdCBMRUFGX05PREVfRElTVEFOQ0UgPSAzMDtcbmV4cG9ydCBjb25zdCBNQU5ZX0JPRFlfU1RSRU5HVEggPSAtMjA7XG5cbmxldCBpID0gMDtcblxuY29uc3QgYWRkTWFpbk5vZGUgPSAobm9kZSkgPT4ge1xuICBub2RlLnNpemUgPSBNQUlOX05PREVfU0laRTtcbiAgbm9kZS5jb2xvciA9IGNvbG9yc1tpKytdWzBdO1xuICBub2Rlcy5wdXNoKG5vZGUpO1xufTtcblxuY29uc3QgYWRkQ2hpbGROb2RlID0gKFxuICBwYXJlbnROb2RlLFxuICBjaGlsZE5vZGUsXG4gIHNlbGVjdGFnZW50LFxuICBzaXplID0gQ0hJTERfTk9ERV9TSVpFLFxuICBkaXN0YW5jZSA9IERFRkFVTFRfRElTVEFOQ0VcbikgPT4ge1xuICBjaGlsZE5vZGUuc2l6ZSA9IHNpemU7XG4gIGNoaWxkTm9kZS5jb2xvciA9IHBhcmVudE5vZGUuY29sb3I7XG4gIGNoaWxkTm9kZS5zZWxlY3RlZGFnZW50ID0gc2VsZWN0YWdlbnQ7XG4gIG5vZGVzLnB1c2goY2hpbGROb2RlKTtcbiAgbGlua3MucHVzaCh7XG4gICAgc291cmNlOiBwYXJlbnROb2RlLFxuICAgIHRhcmdldDogY2hpbGROb2RlLFxuICAgIGRpc3RhbmNlLFxuICAgIGNvbG9yOiBwYXJlbnROb2RlLmNvbG9yLFxuICB9KTtcbn07XG5cbmNvbnN0IGFzc2VtYmxlQ2hpbGROb2RlID0gKHBhcmVudE5vZGUsIGlkLCBhZGRub2RlLCByZXNvLCBzZWxlY3RhZ2VudCkgPT4geyBcbiAgY29uc3QgY2hpbGROb2RlID0geyBpZCB9O1xuICBhZGRDaGlsZE5vZGUocGFyZW50Tm9kZSwgY2hpbGROb2RlLCBzZWxlY3RhZ2VudCk7XG5cbiAgY29uc3QgYWdlbnRzID0gc2FtcGxlcy5hZ2VudHNfbG9nW2FkZG5vZGVdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZXMuYWdlbnRzX2xvZ1thZGRub2RlXS5sZW5ndGg7IGkrKykge1xuICAgIGlmKGFnZW50c1tpXS5vdGhlcl9hZ2VudCA9PT0gcGFyZW50Tm9kZS5pZCAmJiBhZ2VudHNbaV0ucmVzb3VyY2VfaWQgPT09IHJlc28pe1xuICAgICAgYWRkQ2hpbGROb2RlKGNoaWxkTm9kZSwgeyBpZDogJycgfSwgYWdlbnRzW2ldLCBMRUFGX05PREVfU0laRSAsIExFQUZfTk9ERV9ESVNUQU5DRSk7XG4gICAgfVxuICAgIGNvbnRpbnVlO1xuICB9XG59O1xuXG5jb25zdCBjb25uZWN0TWFpbk5vZGVzID0gKHNvdXJjZSwgdGFyZ2V0KSA9PiB7XG4gIGxpbmtzLnB1c2goe1xuICAgIHNvdXJjZSxcbiAgICB0YXJnZXQsXG4gICAgZGlzdGFuY2U6IE1BSU5fTk9ERV9ESVNUQU5DRSxcbiAgICBjb2xvcjogc291cmNlLmNvbG9yXG4gIH0pO1xufTtcblxuY29uc3QgYWxsYWdlbnRzID0gT2JqZWN0LmtleXMoc2FtcGxlcy5hZ2VudHNfbG9nKTtcblxubGV0IGNhc3RwID0gW107XG5hbGxhZ2VudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgY2FzdHBbaW5kZXhdID0geyBpZDogZWxlbWVudCB9O1xuICBhZGRNYWluTm9kZShjYXN0cFtpbmRleF0pO1xufSk7XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy50cnVzdExvZ0RpY3QubGVuZ3RoOyBpKyspIHtcbiAgY29uc3QgZmlyc3QgPSBjYXN0cC5maW5kSW5kZXgoZWxlbWVudCA9PiBlbGVtZW50LmlkID09PSBzYW1wbGVzLnRydXN0TG9nRGljdFtpXS5hZ2VudCk7XG4gIGNvbnN0IHNlY29uZCA9IGNhc3RwLmZpbmRJbmRleChlbGVtZW50ID0+IGVsZW1lbnQuaWQgPT09IHNhbXBsZXMudHJ1c3RMb2dEaWN0W2ldLm90aGVyX2FnZW50KTtcblxuICBjb25uZWN0TWFpbk5vZGVzKGNhc3RwW2ZpcnN0XSwgY2FzdHBbc2Vjb25kXSk7XG5cbiAgbGV0IHN0ciA9IHNhbXBsZXMudHJ1c3RMb2dEaWN0W2ldLnJlc291cmNlX2lkO1xuICBsZXQgcHAgPSBzYW1wbGVzLnRydXN0TG9nRGljdFtpXTtcbiAgYXNzZW1ibGVDaGlsZE5vZGUoY2FzdHBbc2Vjb25kXSwgc3RyLmNoYXJBdCgwKSxjYXN0cFtmaXJzdF0uaWQsIHN0ciwgcHApO1xufSIsImltcG9ydCB7XG4gIHNlbGVjdCxcbiAgZm9yY2VTaW11bGF0aW9uLFxuICBmb3JjZU1hbnlCb2R5LFxuICBmb3JjZUxpbmssXG4gIGZvcmNlQ2VudGVyLFxuICBkcmFnLFxufSBmcm9tICdkMyc7XG5cbmltcG9ydCB7IG5vZGVzLCBsaW5rcyB9IGZyb20gJy4vZGF0YSc7XG5cbmNvbnN0IHN2ZyA9IGQzLnNlbGVjdCgnI2NvbnRhaW5lcicpO1xuY29uc3Qgd2lkdGggPSArc3ZnLmF0dHIoJ3dpZHRoJyk7XG5jb25zdCBoZWlnaHQgPSArc3ZnLmF0dHIoJ2hlaWdodCcpO1xuY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbmNvbnN0IGNlbnRlclkgPSBoZWlnaHQgLyAyO1xuXG52YXIgcmFuZ2VTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlSYW5nZScpO1xucmFuZ2VTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQsYSxiKSB7XG4gIHNpbXVsYXRpb24uZm9yY2UoXCJsaW5rXCIpLmxpbmtzKGxpbmtzKS5kaXN0YW5jZShldmVudC50YXJnZXQudmFsdWUpO1xuICBzaW11bGF0aW9uLmFscGhhKDEpO1xuICBzaW11bGF0aW9uLnJlc3RhcnQoKTtcbn0pXG5cbmNvbnN0IHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24obm9kZXMpXG4gIC5mb3JjZSgnY2hhcmdlJywgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC0yMCkpXG4gIC5mb3JjZShcbiAgICAnbGluaycsXG4gICAgZDMuZm9yY2VMaW5rKGxpbmtzKS5kaXN0YW5jZShyYW5nZVNsaWRlci52YWx1ZSkgLy8gKGxpbmspID0+IGxpbmsuZGlzdGFuY2VcbiAgKVxuICAuZm9yY2UoJ2NlbnRlcicsIGQzLmZvcmNlQ2VudGVyKGNlbnRlclgsIGNlbnRlclkpKTtcblxuY29uc3QgZHJhZ0ludGVyYWN0aW9uID0gZDMuZHJhZygpLm9uKCdkcmFnJywgKGV2ZW50LCBub2RlKSA9PiB7XG4gIG5vZGUuZnggPSBldmVudC54O1xuICBub2RlLmZ5ID0gZXZlbnQueTtcbiAgc2ltdWxhdGlvbi5hbHBoYSgxKTtcbiAgc2ltdWxhdGlvbi5yZXN0YXJ0KCk7XG59KTtcblxuY29uc3QgbGluZXMgPSBzdmdcbiAgLnNlbGVjdEFsbCgnbGluZScpXG4gIC5kYXRhKGxpbmtzKVxuICAuZW50ZXIoKVxuICAuYXBwZW5kKCdsaW5lJylcbiAgLmF0dHIoJ3N0cm9rZScsIChsaW5rKSA9PiBsaW5rLmNvbG9yIHx8ICdibGFjaycpO1xuXG5cbmNvbnN0IGNpcmNsZXMgPSBzdmdcbiAgLmFwcGVuZChcImdcIilcbiAgLmF0dHIoXCJjbGFzc1wiLCBcImNpcmNsZXNcIilcbiAgLnNlbGVjdEFsbCgnY2lyY2xlJylcbiAgLmRhdGEobm9kZXMpXG4gIC5lbnRlcigpXG4gIC5hcHBlbmQoJ2NpcmNsZScpXG4gIC5hdHRyKCdmaWxsJywgKG5vZGUpID0+IG5vZGUuY29sb3IgfHwgJ2dyYXknKVxuICAuYXR0cigncicsIChub2RlKSA9PiBub2RlLnNpemUpXG4gIC5jYWxsKGRyYWdJbnRlcmFjdGlvbik7XG5cbmQzLnNlbGVjdChcIiNhbGxhZ2VudHNcIikuc2VsZWN0QWxsKFwicFwiKS5kYXRhKGFsbGFnZW50cykuZW50ZXIoKVxuLmFwcGVuZChcInRleHRcIilcbi50ZXh0KGZ1bmN0aW9uKGFnKXtcbiAgICByZXR1cm4gYWcrXCIgXCI7XG59KVxuXG5jaXJjbGVzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZCwgYWdlbnQpIHtcbiAgaWYoYWdlbnQuc2VsZWN0ZWRhZ2VudCA9PT0gdW5kZWZpbmVkKXtcbiAgICBkMy5zZWxlY3QoXCIjc2VsZWN0ZWRhZ2VudFwiKS50ZXh0KGFnZW50LmlkKTtcbiAgfVxuICBlbHNle1xuICAgIGlmKGFnZW50LnNlbGVjdGVkYWdlbnQubWV0cmljX3N0ciA9PT0gdW5kZWZpbmVkKXtcbiAgICAgIGQzLnNlbGVjdChcIiN0cnVzdGxvZ1wiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgZDMuc2VsZWN0KFwiI2FnZW50bG9nXCIpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcblxuICAgICAgZDMuc2VsZWN0KFwiI2FnZW50XCIpLnRleHQoYWdlbnQuc2VsZWN0ZWRhZ2VudC5hZ2VudCk7XG4gICAgICBkMy5zZWxlY3QoXCIjZGF0ZXRpbWVcIikudGV4dChhZ2VudC5zZWxlY3RlZGFnZW50LmRhdGVfdGltZSk7XG4gICAgICBkMy5zZWxlY3QoXCIjb3RoZXJhZ2VudFwiKS50ZXh0KGFnZW50LnNlbGVjdGVkYWdlbnQub3RoZXJfYWdlbnQpO1xuICAgICAgZDMuc2VsZWN0KFwiI3Jlc291cmNlaWRcIikudGV4dChhZ2VudC5zZWxlY3RlZGFnZW50LnJlc291cmNlX2lkKTtcbiAgICAgIGQzLnNlbGVjdChcIiN0cnVzdHZhbHVlXCIpLnRleHQoYWdlbnQuc2VsZWN0ZWRhZ2VudC50cnVzdF92YWx1ZSk7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICBkMy5zZWxlY3QoXCIjYWdlbnRsb2dcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgIGQzLnNlbGVjdChcIiN0cnVzdGxvZ1wiKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XG5cbiAgICAgIGQzLnNlbGVjdChcIiNhZGF0ZXRpbWVcIikudGV4dChhZ2VudC5zZWxlY3RlZGFnZW50LmRhdGVfdGltZSk7XG4gICAgICBkMy5zZWxlY3QoXCIjbWV0cmljc3RyaW5nXCIpLnRleHQoYWdlbnQuc2VsZWN0ZWRhZ2VudC5tZXRyaWNfc3RyKTtcbiAgICAgIGQzLnNlbGVjdChcIiNhb3RoZXJhZ2VudFwiKS50ZXh0KGFnZW50LnNlbGVjdGVkYWdlbnQub3RoZXJfYWdlbnQpO1xuICAgICAgZDMuc2VsZWN0KFwiI2FyZXNvdXJjZWlkXCIpLnRleHQoYWdlbnQuc2VsZWN0ZWRhZ2VudC5yZXNvdXJjZV9pZCk7XG4gICAgICBkMy5zZWxlY3QoXCIjYXRydXN0dmFsdWVcIikudGV4dChhZ2VudC5zZWxlY3RlZGFnZW50LnRydXN0X3ZhbHVlKTtcbiAgICB9ICBcbiAgfVxufSk7XG5cbmNvbnN0IHRleHQgPSBzdmdcbiAgLnNlbGVjdEFsbCgndGV4dCcpXG4gIC5kYXRhKG5vZGVzKVxuICAuZW50ZXIoKVxuICAuYXBwZW5kKCd0ZXh0JylcbiAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gIC5hdHRyKCdhbGlnbm1lbnQtYmFzZWxpbmUnLCAnbWlkZGxlJylcbiAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdub25lJylcbiAgLnRleHQoKG5vZGUpID0+IG5vZGUuaWQpO1xuXG5zaW11bGF0aW9uLm9uKCd0aWNrJywgKCkgPT4ge1xuICBjaXJjbGVzLmF0dHIoJ2N4JywgKG5vZGUpID0+IG5vZGUueCkuYXR0cignY3knLCAobm9kZSkgPT4gbm9kZS55KTtcbiAgdGV4dC5hdHRyKCd4JywgKG5vZGUpID0+IG5vZGUueCkuYXR0cigneScsIChub2RlKSA9PiBub2RlLnkpO1xuXG4gIGxpbmVzXG4gICAgLmF0dHIoJ3gxJywgKGxpbmspID0+IGxpbmsuc291cmNlLngpXG4gICAgLmF0dHIoJ3kxJywgKGxpbmspID0+IGxpbmsuc291cmNlLnkpXG4gICAgLmF0dHIoJ3gyJywgKGxpbmspID0+IGxpbmsudGFyZ2V0LngpXG4gICAgLmF0dHIoJ3kyJywgKGxpbmspID0+IGxpbmsudGFyZ2V0LnkpO1xufSk7XG5cblxudmFyIHpvb21faGFuZGxlciA9IGQzLnpvb20oKVxuICAub24oXCJ6b29tXCIsIHpvb21fYWN0aW9ucyk7XG5cbmZ1bmN0aW9uIHpvb21fYWN0aW9ucygpe1xuICAgY2lyY2xlcy5hdHRyKFwidHJhbnNmb3JtXCIsIGQzLnpvb21UcmFuc2Zvcm0odGhpcykpO1xuICAgbGluZXMuYXR0cihcInRyYW5zZm9ybVwiLCBkMy56b29tVHJhbnNmb3JtKHRoaXMpKTtcbiAgIHRleHQuYXR0cihcInRyYW5zZm9ybVwiLCBkMy56b29tVHJhbnNmb3JtKHRoaXMpKTtcbn1cblxuem9vbV9oYW5kbGVyKHN2Zyk7ICAgIFxuXG4vLyB6b29tSW5cbmQzLnNlbGVjdChcIiN6b29tSW5cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgZDMuc2VsZWN0KCdzdmcnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuY2FsbCh6b29tX2hhbmRsZXIuc2NhbGVCeSwgMik7XG59KTtcblxuLy8gem9vbU91dFxuZDMuc2VsZWN0KFwiI3pvb21PdXRcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgZDMuc2VsZWN0KCdzdmcnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuY2FsbCh6b29tX2hhbmRsZXIuc2NhbGVCeSwgMC41KTtcbn0pO1xuXG4vLyByZXNldFpvb21cbmQzLnNlbGVjdChcIiNyZXNldFpvb21cIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgZDMuc2VsZWN0KCdzdmcnKVxuICAgIC50cmFuc2l0aW9uKClcbiAgICAuY2FsbCh6b29tX2hhbmRsZXIuc2NhbGVUbywgMSk7XG59KTtcblxuLy8gY2VudGVyXG5kMy5zZWxlY3QoXCIjY2VudGVyXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gIGQzLnNlbGVjdCgnc3ZnJylcbiAgICAudHJhbnNpdGlvbigpXG4gICAgLmNhbGwoem9vbV9oYW5kbGVyLnRyYW5zbGF0ZVRvLCAwLjUgKiB3aWR0aCwgMC41ICogaGVpZ2h0KTtcbn0pO1xuXG4vLyBwYW5MZWZ0XG5kMy5zZWxlY3QoXCIjcGFuTGVmdFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICBkMy5zZWxlY3QoJ3N2ZycpXG4gICAgLnRyYW5zaXRpb24oKVxuICAgIC5jYWxsKHpvb21faGFuZGxlci50cmFuc2xhdGVCeSwgLTUwLCAwKTtcbn0pO1xuXG4vLyBwYW5SaWdodFxuZDMuc2VsZWN0KFwiI3BhblJpZ2h0XCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gIGQzLnNlbGVjdCgnc3ZnJylcbiAgICAudHJhbnNpdGlvbigpXG4gICAgLmNhbGwoem9vbV9oYW5kbGVyLnRyYW5zbGF0ZUJ5LCA1MCwgMCk7XG59KTsiXSwibmFtZXMiOlsiYWxsYWdlbnRzIl0sIm1hcHBpbmdzIjoiOzs7RUFBTyxNQUFNLE1BQU0sR0FBRztFQUN0QixFQUFFLENBQUMsU0FBUyxDQUFDO0VBQ2IsRUFBRSxDQUFDLFNBQVMsQ0FBQztFQUNiLEVBQUUsQ0FBQyxTQUFTLENBQUM7RUFDYixFQUFFLENBQUMsU0FBUyxDQUFDO0VBQ2IsRUFBRSxDQUFDLFNBQVMsQ0FB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RSxNQUFNLENBQUMsQ0FBQztBQUN0RDtFQUNBLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztFQUMxRCxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7RUFDakUsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0VBQ3JFLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztFQUNyRSxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7RUFDckUsS0FBSztFQUNMLFNBQVE7RUFDUixNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztFQUN2RCxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN0RDtFQUNBLE1BQU0sRUFBRSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztFQUNsRSxNQUFNLEVBQUUsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7RUFDdEUsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksQ0FB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